<fieldset>
  <legend>User Profile</legend>

  <!-- Name Field -->
  <div>
    <label for="name">Name:</label>
    <input
      type="text"
      id="name"
      name="name"
      [value]="user?.name"
      [(ngModel)]="user!.name"
      [readonly]="!isEditMode"
      aria-required="true"
      aria-invalid="false"
      aria-describedby="name-error"
    />
    <span id="name-error" class="error" aria-live="polite"></span>
  </div>

  <!-- Email Field -->
  <div>
    <label for="email">Email:</label>
    <input
      type="email"
      id="email"
      name="email"
      [value]="user?.email"
      [(ngModel)]="user!.email"
      [readonly]="!isEditMode"
      aria-required="true"
      aria-invalid="false"
      aria-describedby="email-error"
    />
    <span id="email-error" class="error" aria-live="polite"></span>
  </div>

  <!-- Phone Field -->
  <div>
    <label for="phone">Phone:</label>
    <input
      type="tel"
      id="phone"
      name="phone"
      [value]="user?.phone"
      [(ngModel)]="user!.phone"
      [readonly]="!isEditMode"
      aria-describedby="phone-error"
    />
    <span id="phone-error" class="error" aria-live="polite"></span>
  </div>

  <!-- Address Field -->
  <div>
    <label for="address">Address:</label>
    <input
      type="text"
      id="address"
      name="address"
      [value]="user?.address"
      [(ngModel)]="user!.address"
      [readonly]="!isEditMode"
      aria-describedby="address-error"
    />
    <span id="address-error" class="error" aria-live="polite"></span>
  </div>

  <!-- Modify Profile Button -->
  <div>
    @if(!isEditMode){
    <button (click)="enableEditMode()">Modify Profile</button>
    } @if(isEditMode){
    <button (click)="updateProfile()">UPDATE PROFILE</button>
    <button (click)="cancelEdit()">Cancel</button>
    }
  </div>

  <!-- Error Message -->
  <div role="alert" class="error" id="form-error" aria-live="polite"></div>
</fieldset>

<!-- Member Since -->
<div><strong>Member since:</strong> {{ user?.formattedMemberSince }}</div>
